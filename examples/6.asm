; x^2 + 14x + 45 = 0
;      D  = 16
; sqrt(D) = 4
; num of roots = 2
; x1 = -5; x2 = -9

IN
POPR x0
IN
POPR x1
IN
POPR x2

PUSHR x0
PUSH 0
JNE :A_IS_NOT_ZERO
PUSH -1
OUT
HLT

:A_IS_NOT_ZERO
PUSHR x1 ; pc = 52
SQ
PUSH 4
PUSHR x0
PUSHR x2
MUL
MUL
SUB
QROOT
POPR x3

PUSHR x3
PUSH 0
JNE :D_IS_NOT_ZERO
PUSH 0
OUT
HLT

:D_IS_NOT_ZERO
PUSHR x1 ; pc = 120
PUSH -1
MUL
PUSHR x3
SUB
PUSH 2
PUSHR x0
MUL
DIV
POPR x4

PUSHR x1
PUSH -1
MUL
PUSHR x3
ADD
PUSH 2
PUSHR x0
MUL
DIV
POPR x5

PUSH 1
PUSHR x4
PUSHR x5
JE :ONE_ROOT
PUSH 1
ADD

:ONE_ROOT
OUT      ; pc = 240
PUSHR x4
PUSHR x5
OUT
OUT

HLT
